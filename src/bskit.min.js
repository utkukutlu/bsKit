/**
 * User: utku
 * Date: 14.06.2018
 * Time: 20:28
 * Web : http://www.utkukutlu.com
 */
$.fn.bsTagName=function(){return this.prop("tagName")},$.fn.bsTable=function(c){function d(){var n=Math.round(h.totalData/h.dataLength),o=$("<ul/>",{class:"bs-table-pagination"});h.container.find(".bs-table-pagination").remove();for(var s=1;s<=n;s++){var t=$("<li/>",{class:"bs-table-pagination-li"}),u=$("<a/>",{class:"bs-table-pagination-a"+(1==s?" bs-table-pagination-a-active":""),text:s,href:"#",page:s});u.click(function(){h.container.find(".bs-table-pagination-a").removeClass("bs-table-pagination-a-active"),h.container.find(".bs-table-pagination-a-active").removeClass("bs-table-pagination-a-active"),$(this).addClass("bs-table-pagination-a-active");for(var v=$(this).attr("page"),w=0;w<h.totalData;w++)w>=v*h.dataLength-h.dataLength&&w<v*h.dataLength?h.container.find("tbody tr").eq(w).show():h.container.find("tbody tr").eq(w).hide()}),t.append(u),o.append(t)}h.container.find(".bs-clear-pagination").remove(),h.container.append(o),h.container.append("<div class='bs-clear bs-clear-pagination'></div>")}function f(){$.ajax({type:h.ajax.type,url:h.ajax.url,data:h.ajax.data,success:function(n){g(n)},error:function(){}})}function g(n){h.container.find("tbody").html(""),"string"==typeof n?(n=JSON.parse(n),"undefined"==typeof n.data&&(n.data=n)):"object"==typeof n&&"undefined"==typeof n.data&&(n.data=n),""===h.columns&&(h.columns=n.columns),h.totalData=n.data.length;for(let p,o=0;o<n.data.length;o++){p=$("<tr/>",{});for(let s,q=0;q<h.columns.length;q++)s=$("<td/>",{html:n.data[o][h.columns[q].data],column:h.columns[q].data,"data-value":n.data[o][h.columns[q].data]}),p.append(s);h.tbody.append(p),o>=h.dataLength&&p.hide()}return 0<h.container.find("thead").length&&h.container.find("thead tr th").css({}),0>=n.data.length?void h.tbody.html("Tabloda Veri Yok"):void d()}var h=this;if(h.id="",h.ajax="",h.columns="",h.lengthMenu="",h.bodyData="",h.trData=[],h.dataLength=20,h.theadCount=0,h.totalData=0,h.sortType=1,h.buttons="",h.selectedRowBgColor="#E0E0E0",h.selectedRowTextColor="#000000",h.src="","undefined"!=typeof c&&("undefined"!=typeof c.data&&(h.bodyData=c.data),"undefined"!=typeof c.src&&(h.src=c.src),"undefined"!=typeof c.columns&&(h.columns=c.columns),"undefined"!=typeof c.ajax&&(h.ajax=c.ajax),"undefined"!=typeof c.lengthMenu&&(h.lengthMenu=c.lengthMenu),"undefined"!=typeof c.dataLength&&(h.dataLength=c.dataLength),"undefined"!=typeof c.buttons&&(h.buttons=c.buttons),"undefined"!=typeof c.selectedRowBgColor&&(h.selectedRowBgColor=c.selectedRowBgColor),"undefined"!=typeof c.selectedRowTextColor&&(h.selectedRowTextColor=c.selectedRowTextColor)),$("head").append("<style>.bs-table-container tbody tr.selected{background: "+h.selectedRowBgColor+" !important;color: "+h.selectedRowTextColor+";}</style>"),h.container=$("<div/>",{class:"bs-table-container"}),h.container.append(h.clone()),h.replaceWith(h.container),h.html(h.container.html()),h.table="",h.thead=$("<thead/>",{}),h.tbody=$("<tbody/>",{}),h.tr=$("<tr/>",{}),h.th=$("<th/>",{}),h.td=$("<td/>",{}),h.table=h.container.find("table"),0>=h.table.find("tbody").length?h.table.append(h.tbody):h.tbody=h.table.find("tbody"),this.searchBox=$("<input/>",{type:"text",class:"bs-table-searchbox",placeholder:"Search"}),this.lengthSelect=$("<select/>",{class:"bs-table-length-select"}),""!==this.lengthMenu)for(var j=0;j<this.lengthMenu[0].length;j++){var l=this.lengthMenu[0][j]==h.dataLength,m=$("<option/>",{html:this.lengthMenu[1][j],value:this.lengthMenu[0][j],selected:l});this.lengthSelect.append(m)}return this.lengthSelect.change(function(){h.dataLength=h.lengthSelect.val();for(var o=0;o<h.tbody.find("tr").length;o++)o>=h.lengthSelect.val()?h.tbody.find("tr").eq(o).hide():h.tbody.find("tr").eq(o).show(),-1==h.lengthSelect.val()&&h.tbody.find("tr").eq(o).show();d()}),this.searchBox.keyup(function(){var n=h.searchBox.val();if(""!==n.trim())h.container.find("tbody tr").filter(function(){-1<$(this).html().toLowerCase().indexOf(n)?h.container.find("tbody tr:visible").length<h.dataLength&&$(this).show():$(this).hide()});else{h.container.find("tbody tr").hide();for(var o=0;o<=h.dataLength;o++)h.container.find("tbody tr:nth-child("+o+")").show()}h.container.find("tbody tr").is(":visible")?h.tbody.find("div").remove():0>=h.container.find("tbody div").length&&h.tbody.append("<div>Veri Bulunamad\u0131</div>")}),h.container.prepend(this.searchBox),h.searchBox.after("<div class='bs-clear'></div>"),h.container.append(this.lengthSelect),h.lengthSelect.before("<div class='bs-clear'></div>"),0>=h.container.find("tbody").length&&h.table.append(this.tbody),h.container.on("click","tbody td",function(){var n;n="tr"!=$(this)[0]||1?$(this).parents("tr"):$(this),n.hasClass("selected")?(n.removeClass("selected"),h.container.find("tbody tr").removeClass("selected")):(h.container.find("tbody tr").removeClass("selected"),n.addClass("selected"))}),h.container.find("thead tr th").click(function(){if("undefined"==typeof h.columns[this.cellIndex].sortable||!1!==h.columns[this.cellIndex].sortable){h.sortType*=-1,h.container.find(".bs-table-sor-type").remove(),$(this).append("<div class='bs-table-sor-type'>"+(1===h.sortType?"&#9652;":"&#9662;")+"</div>");for(var p,n=[],o=0;o<h.container.find("tbody tr").length;o++)p=h.container.find("tbody tr:nth-child("+o+") td:nth-child("+(this.cellIndex+1)+")").text(),""!==p&&n.push(p);n.sort(function(q,s){return!1===isNaN(q)&&!1===isNaN(s)?-1===h.sortType?parseFloat(s)-parseFloat(q):parseFloat(q)-parseFloat(s):-1===h.sortType?q<s:q>s});for(var p,o=0;o<n.length;o++)p=h.container.find("tbody tr td:nth-child("+(this.cellIndex+1)+"):contains('"+n[o]+"')").parents("tr"),h.container.find("tbody tr td:nth-child("+(this.cellIndex+1)+"):contains('"+n[o]+"')").parents("tr").remove(),h.container.find("tbody").append(p)}}),this.buttonsDiv=$("<div/>",{class:"bs-table-buttons"}),""!==h.buttons&&h.buttons.forEach(function(n,o){var p=$("<button/>",{class:"bs-table-button "+h.buttons[o].className,text:h.buttons[o].text});p.click(function(){"function"==typeof h.buttons[o].action&&h.buttons[o].action()}),h.buttonsDiv.append(p)}),h.container.prepend(this.buttonsDiv),""!==h.src&&g(h.src),""!==h.ajax&&f(),this.refresh=function(){h.container.find("thead .bs-table-sor-type").remove(),""===h.ajax?g(h.src):f()},this.getSelectedRow=function(){var n={},o=h.container.find("tbody tr.selected");return 0<o.length?(o.find("td").each(function(){var q=$(this);n[q.attr("column")]=q.attr("data-value")}),n):null},this.getRow=function(n){var o={},p=h.container.find("tbody tr").eq(n);return 0<p.length?(p.find("td").each(function(){var s=$(this);o[s.attr("column")]=s.attr("data-value")}),o):null},this.getRows=function(){var n=[],o=h.container.find("tbody tr");return 0<o.length?(o.each(function(){var q=$(this),s={};q.find("td").each(function(){var u=$(this);s[u.attr("column")]=u.attr("data-value")}),n.push(s)}),n):null},this.getDataLength=function(){return h.totalData},this},$.bsAlert=function(c,d){this.title="",this.content="",this.alertType="success",this.showConfirmButton=!1,this.confirmButtonText="",this.confirmButtonBackground="blue",this.confirmButtonTextColor="white",this.closable=!0,this.disableClose=!1,this.buttons="";var f=this;return"undefined"!=typeof c&&("undefined"!=typeof c.type&&(f.alertType=c.type),"undefined"!=typeof c.title&&(f.title=c.title),"undefined"!=typeof c.content&&(f.content=c.content),"undefined"!=typeof c.showConfirmButton&&(f.showConfirmButton=c.showConfirmButton),"undefined"!=typeof c.confirmButtonText&&(f.confirmButtonText=c.confirmButtonText),"undefined"!=typeof c.confirmButtonBackground&&(f.confirmButtonBackground=c.confirmButtonBackground),"undefined"!=typeof c.confirmButtonTextColor&&(f.confirmButtonTextColor=c.confirmButtonTextColor),"undefined"!=typeof c.closable&&(f.closable=c.closable),"undefined"!=typeof c.disableClose&&(f.disableClose=c.disableClose),"undefined"!=typeof c.buttons&&(f.buttons=c.buttons)),this.container=$("<div/>",{class:"bs-alert-container bs-alert-"+f.alertType}),this.body=$("<div/>",{class:"bs-alert-body"}),!0===f.closable&&f.container.click(function(){f.close()}),this.iconContainer=$("<div/>",{class:"bs-alert-icon-container"}),this.iconContent=$("<div/>",{class:"bs-alert-icon-content",htmls:"success"===f.alertType?"&#10004;":"danger"===f.alertType?"&#x274C;":""}),this.iconContainer.append(this.iconContent),this.titleContainer=$("<div/>",{class:"bs-alert-title-container"}),this.titleContent=$("<div/>",{class:"bs-alert-title-content",html:f.title}),this.titleContainer.append(this.titleContent),this.contentContainer=$("<div/>",{class:"bs-alert-content-container"}),this.contentContent=$("<div/>",{class:"bs-alert-content-content",html:f.content}),this.contentContainer.append(this.contentContent),this.buttonsContainer=$("<div/>",{class:"bs-alert-buttons-container"}),"object"==typeof f.buttons&&f.buttons.forEach(function(g){var h=$("<button/>",{class:"bs-alert-button",type:"button",html:g.text,style:"background:"+g.background+";color:"+g.color,"btn-val":g.value});("undefined"==typeof g.show||!0!==g.show)&&f.buttonsContainer.append(h),h.click(function(){"function"==typeof d&&(d($(this).attr("btn-val")),!0!==f.disableClose&&f.close())})}),this.body.append(this.iconContainer),this.body.append(this.titleContainer),this.body.append(this.contentContainer),this.body.append(this.buttonsContainer),this.container.append(this.body),$("body").append(f.container),this.close=function(){f.body.css("animation-name","zoomOut"),setTimeout(function(){f.container.remove()},300)},this.updateTitle=function(g){f.container.find(".bs-alert-title-content").html(g)},this.updateContent=function(g){f.container.find(".bs-alert-content-content").html(g)},this},$.bsNotification=function(c,d){function f(){h=$(".bs-notification").length;let j=$(".bs-notification").eq(0);$(".bs-notification").eq(0).css({top:0}),j.fadeOut(function(){j.remove();for(let l=0;l<h;l++)$(".bs-notification").eq(l).css({top:40*l});0<h&&f()})}this.nType="success",this.content="",this.showSingle=!1,this.duration=2e3;var g=this;"undefined"!=typeof c&&("undefined"!=typeof c.type&&(this.nType=c.type),"undefined"!=typeof c.content&&(this.content=c.content),"undefined"!=typeof c.showSingle&&(this.showSingle=c.showSingle),"undefined"!=typeof c.duration&&(this.duration=c.duration)),!0===g.showSingle&&$(".bs-notification").remove();let h=$(".bs-notification").length;return this.div=$("<div/>",{class:"bs-notification bs-notification-"+g.nType,style:"top:"+40*h+"px;",text:g.content}),this.div.click(function(){"function"==typeof d&&d(),this.remove(),f()}),$("body").append(this.div),this.div.fadeIn("fast",function(){setTimeout(function(){f()},g.duration)}),this},$.bsWindow=function(c){this.id="bs-window",this.class="bs-window",this.title="bs Window",this.width="500px",this.height="500px",this.background="#dfe8f6",this.visible=!0,this.content="",this.resizable=!0,this.draggable=!0,this.xPosition="center",this.yPosition="center",this.src="",this.closeButtonContent="X",this.showFooter=!0,this.isFullScreen=!1;var d=this;if(this.show=function(){d.visible=!0,d.bsContainer.show()},this.hide=function(){d.visible=!1,d.bsContainer.hide()},"undefined"!=typeof c&&("undefined"!=typeof c.resizable&&(this.resizable=c.resizable),"undefined"!=typeof c.width&&(this.width=c.width),"undefined"!=typeof c.height&&(this.height=c.height),"undefined"!=typeof c.show&&(this.visible=c.show),"undefined"!=typeof c.background&&(this.background=c.background),"undefined"!=typeof c.title&&(this.title=c.title),"undefined"!=typeof c.content&&(this.content=c.content),"undefined"!=typeof c.draggable&&(this.draggable=c.draggable),"undefined"!=typeof c.xPosition&&(this.xPosition=c.xPosition),"undefined"!=typeof c.yPosition&&(this.yPosition=c.yPosition),"undefined"!=typeof c.src&&(this.src=c.src),"undefined"!=typeof c.closeButtonContent&&(this.closeButtonContent=c.closeButtonContent),"undefined"!=typeof c.showFooter&&(this.showFooter=c.showFooter)),this.bsContainer=$("<div/>",{id:this.id,class:"bs-window-container",style:"width:"+this.width+";height:"+this.height+";background:"+this.background+";"}),this.bsWindowDiv=$("<div/>",{class:"bs-window"}),this.bsHeader=$("<div/>",{class:"bs-window-header"}),this.bsTitle=$("<div/>",{class:"bs-window-title",html:this.title}),this.bsBody=$("<div/>",{class:"bs-window-body",html:this.content,style:d.showFooter?"":"height:calc(100% - 30px);"}),this.bsFooter=$("<div/>",{class:"bs-window-footer"}),this.closeButton=$("<div/>",{class:"bs-window-close-btn",html:this.closeButtonContent}),this.iframe=$("<iframe/>",{class:"bs-window-iframe",src:this.src}),this.bsContainer.append(this.bsWindowDiv),this.bsContainer.append(this.bsWindowDiv),this.bsWindowDiv.append(this.bsHeader),this.bsHeader.append(this.closeButton),this.bsHeader.append(this.bsTitle),this.bsWindowDiv.append(this.bsBody),this.showFooter&&this.bsWindowDiv.append(this.bsFooter),this.bsBody.append(this.iframe),!0===this.draggable){var f=0,g=0,h=0,j=0,l=this.bsContainer;this.bsHeader.on("mousedown",function(m){m=m||window.event,h=m.clientX,j=m.clientY,$(document).on("mouseup",function(){l.css("opacity","1"),$(document).off("mouseup"),$(document).off("mousemove")}),$(document).on("mousemove",function(n){f=h-n.clientX,g=j-n.clientY,h=n.clientX,j=n.clientY,l.css("top",l.offset().top-g),l.css("left",l.offset().left-f),l.css("opacity","0.5")})}),this.bsFooter.on("mousedown",function(m){m=m||window.event,h=m.clientX,j=m.clientY,$(document).on("mouseup",function(){l.css("opacity","1"),$(document).off("mouseup"),$(document).off("mousemove")}),$(document).on("mousemove",function(n){f=h-n.clientX,g=j-n.clientY,h=n.clientX,j=n.clientY,l.css("top",l.offset().top-g),l.css("left",l.offset().left-f),l.css("opacity","0.5")})})}return this.bsHeader.dblclick(function(){!0===d.isFullScreen?d.restore():d.maximize()}),this.closeButton.click(function(){d.bsContainer.remove()}),this.maximize=function(){d.isFullScreen=!0,d.bsContainer.css({left:"0",right:"0",top:"0",bottom:"0",width:"calc(100% - 5px)",height:"calc(100% - 5px)"})},this.restore=function(){d.isFullScreen=!1,d.bsContainer.width(d.width),d.bsContainer.height(d.height),d.bsContainer.css({top:Math.max(0,($(window).height()-this.bsContainer.outerHeight())/2),left:Math.max(0,($(window).width()-this.bsContainer.outerHeight())/2)})},this.close=function(){this.bsContainer.remove()},!1===this.show&&$(d.bsContainer).hide(),"left"===this.xPosition?this.bsContainer.css({left:"0"}):"center"===this.xPosition?this.bsContainer.css({left:Math.max(0,($(window).width()-this.bsContainer.outerHeight())/2)}):"right"===this.xPosition&&this.bsContainer.css({right:"0"}),"top"===this.yPosition?this.bsContainer.css({top:"0"}):"center"===this.yPosition?this.bsContainer.css({top:Math.max(0,($(window).height()-this.bsContainer.outerHeight())/2)}):"bottom"===this.yPosition&&this.bsContainer.css({bottom:"0"}),$("body").append(this.bsContainer),this},$.fn.bsValidate=function(){let c=this,d=!0;return c.find(":input").each(function(){"text"===$(this).attr("type")?(null===$(this).val()||""===$(this).val())&&(void 0!==$(this).attr("required")||!1!==$(this).attr("required"))&&(d=!1):"password"===$(this).attr("type")?(null===$(this).val()||""===$(this).val())&&(void 0!==$(this).attr("required")||!1!==$(this).attr("required"))&&(d=!1):"radio"===$(this).attr("type")?0===c.find("input[type='radio'][name='"+$(this).attr("name")+"']:checked").length&&(d=!1):"checkbox"===$(this).attr("type")&&0===c.find("input[type='checkbox'][name='"+$(this).attr("name")+"']:checked").length&&(d=!1)}),d},$.fn.bsDatePicker=function(c){function d(p){h().find("table tbody").html(""),"undefined"==typeof p&&(p=!1);for(var q=1;31>=q;q++){if(0==q%7||1===q)var s=$("<tr/>",{});var t=q,u=h().find(".bs-datepicker-top-center").attr("month"),v=h().find(".bs-datepicker-top-center").attr("year"),w=new Date(v+"-"+u+"-"+t),x=j.currentDay,y=$("<td/>",{class:"bs-datepicker-middle-table-td "+((isNaN(new Date(j.dateParam))||!0!==p||1?q===x:q===x)?"bs-datepicker-selected-day":""),html:q+"<br>"+g(w.getDay()),day:w.getDate(),month:u,year:v,dayOfWeek:g(w.getDay())});y.click(function(){j.tbody.find(".bs-datepicker-middle-table-td").removeClass("bs-datepicker-selected-day"),$(this).addClass("bs-datepicker-selected-day");var z=j.format.replace("d",$(this).attr("day")).replace("m",$(this).attr("month")).replace("y",$(this).attr("year"));j.val(z),setTimeout(function(){j.close()},50)}),s.append(y),h().find("table tbody").append(s)}}function f(p){return 0>p&&(p=0),12<p&&(p=12),m[p]}function g(p){return 0>p&&(p=0),7<p&&(p=7),n[p]}function h(){return j.next(".bs-datepicker-container")}this.format="d-m-y",this.dateParam=null;var j=this,l=null;"undefined"!=typeof c&&(l=c,"undefined"!=typeof c.format&&(j.format=c.format));var m=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=new Date;return this.currentDay=o.getDate(),this.currentMonth=o.getMonth()+1,this.currentYear=o.getFullYear(),this.currentDayOfWeek=o.getDay(),this.container=$("<div/>",{class:"bs-datepicker-container"}),this.body=$("<div/>",{class:"bs-datepicker-body"}),this.top=$("<div/>",{class:"bs-datepicker-top"}),this.middle=$("<div/>",{class:"bs-datepicker-middle"}),this.bottom=$("<div/>",{class:"bs-datepicker-bottom"}),this.topLeftArrow=$("<div/>",{class:"bs-datepicker-top-leftArrow",html:"<"}),this.topRightArrow=$("<div/>",{class:"bs-datepicker-top-rightArrow",html:">"}),this.topCenter=$("<div/>",{class:"bs-datepicker-top-center",html:f(j.currentMonth-1)+" "+j.currentYear,month:j.currentMonth,year:j.currentYear}),j.topLeftArrow.click(function(){var p=j.next(".bs-datepicker-container").find(".bs-datepicker-top-center"),q=parseInt(p.attr("month"))-1;1>q&&(q=12,p.attr("year",parseInt(p.attr("year"))-1)),p.attr("month",q),d(),p.html(f(p.attr("month")-1)+" "+p.attr("year"))}),j.topRightArrow.click(function(){var p=j.next(".bs-datepicker-container").find(".bs-datepicker-top-center"),q=parseInt(p.attr("month"))+1;12<q&&(q=1,p.attr("year",parseInt(p.attr("year"))+1)),p.attr("month",q),d(),p.html(f(p.attr("month")-1)+" "+p.attr("year"))}),this.table=$("<table/>",{class:"bs-datepicker-middle-table"}),this.thead=$("<thead/>",{}),this.tbody=$("<tbody/>",{}),j.table.append(j.thead),j.table.append(j.tbody),j.top.append(j.topLeftArrow),j.top.append(j.topCenter),j.top.append(j.topRightArrow),j.middle.append(j.table),j.body.append(j.top),j.body.append(j.middle),j.body.append(j.bottom),j.container.append(j.body),j.click(function(){h().show()}),j.blur(function(){0<h().length&&!h().is(":active")&&j.close()}),j.after(j.container),d(),this.close=function(){h().hide()},this.setDate=function(p){j.dateParam=p,d(!0)},this},$.bsRedirect=function(c,d){"undefined"==typeof d&&(d=0),setTimeout(function(){window.location.href=c},parseInt(d))},$.fn.bsLightBox=function(c){var d=this;d.backgroundAlpha=0.5,d.currentIndex=0,d.itemCount=d.length,"undefined"!=typeof c&&"undefined"!=typeof c.backgroundAlpha&&(d.backgroundAlpha=c.backgroundAlpha),d.click(function(){var f=$(this);d.currentIndex=f.index(),d.container=$("<div/>",{class:"bs-lightbox-container",style:"background: rgba(0, 0, 0, "+d.backgroundAlpha+");",html:""}),d.content=$("<div/>",{class:"bs-lightbox-content"}),d.imageContent=$("<img/>",{src:f.attr("src")}),d.content.append(d.imageContent),d.container.append(d.content),d.leftButton=$("<div/>",{class:"bs-lightbox-button bs-lightbox-button-left",html:"<"}),d.rightButton=$("<div/>",{class:"bs-lightbox-button bs-lightbox-button-right",html:">"}),$("body").append(d.container),d.content.css("width",d.imageContent.width()+"px"),$(".bs-lightbox-container").click(function(){$("body .bs-lightbox-container").remove()})})};