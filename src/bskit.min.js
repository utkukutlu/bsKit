/**
 * User: utku
 * Date: 14.06.2018
 * Time: 20:28
 * Web : http://www.utkukutlu.com
 */
$.fn.bsTagName=function(){return this.prop("tagName")},$.fn.bsTable=function(c){function d(){var t=Math.round(l.totalData/l.dataLength),u=$("<ul/>",{class:"bs-table-pagination"});l.container.find(".bs-table-pagination").remove();for(var x=1;x<=t;x++){var y=$("<li/>",{class:"bs-table-pagination-li"}),z=$("<a/>",{class:"bs-table-pagination-a"+(1==x?" bs-table-pagination-a-active":""),text:x,href:"#",page:x});z.click(function(){l.container.find(".bs-table-pagination-a").removeClass("bs-table-pagination-a-active"),l.container.find(".bs-table-pagination-a-active").removeClass("bs-table-pagination-a-active"),$(this).addClass("bs-table-pagination-a-active");for(var A=$(this).attr("page"),B=0;B<l.totalData;B++)B>=A*l.dataLength-l.dataLength&&B<A*l.dataLength?l.container.find("tbody tr").eq(B).show():l.container.find("tbody tr").eq(B).hide()}),y.append(z),u.append(y)}l.container.find(".bs-clear-pagination").remove(),l.container.append(u),l.container.append("<div class='bs-clear bs-clear-pagination'></div>")}function f(t,u,v){""!==l.events&&"function"==typeof l.events.columnUpdated&&l.events.columnUpdated(t,u,v)}function g(t){var u="";t.css({background:l.selectedRowBgColor,color:l.selectedRowTextColor}),("text"===t.attr("edit-type")||"number"===t.attr("edit-type"))&&(u=t.find("input").val(),t.html(t.find("input").val())),"comboBox"===t.attr("edit-type")&&(u=t.find("select").val(),t.attr("data-value",t.find("select").val()),t.html(t.find("select option:selected").text())),t.removeClass("bs-table-editing"),setTimeout(function(){t.css({background:"",color:""})},200),f(t.parents("tr").index(),t.index(),u)}function h(){$.ajax({type:l.ajax.type,url:l.ajax.url,data:l.ajax.data,success:function(t){j(t)},error:function(){}})}function j(t){l.container.find("tbody").html(""),"string"==typeof t?(t=JSON.parse(t),"undefined"==typeof t.data&&(t.data=t)):"object"==typeof t&&"undefined"==typeof t.data&&(t.data=t),""===l.columns&&(l.columns=t.columns),l.totalData=t.data.length;for(let w,v=0;v<t.data.length;v++){w=$("<tr/>",{});for(let x=0;x<l.columns.length;x++){var u="";"function"==typeof l.columns[x].render&&(u=l.columns[x].render(t.data[v][l.columns[x].data],v));let y=$("<td/>",{html:""==u?t.data[v][l.columns[x].data]:u,column:l.columns[x].data,"data-value":t.data[v][l.columns[x].data],align:l.columns[x].align});w.append(y)}""!==l.events&&"function"==typeof l.events.rowAdded&&l.events.rowAdded(v,t.data[v]),l.tbody.append(w),v>=l.dataLength&&w.hide()}return 0<l.container.find("thead").length&&l.container.find("thead tr th").css({}),""!==l.events&&"function"==typeof l.events.completed&&l.events.completed(),0>=t.data.length?void l.tbody.html("Tabloda Veri Yok"):void d()}var l=this;if(l.id="",l.ajax="",l.columns="",l.lengthMenu="",l.bodyData="",l.trData=[],l.dataLength=20,l.theadCount=0,l.totalData=0,l.sortType=1,l.buttons="",l.selectedRowBgColor="#E0E0E0",l.selectedRowTextColor="#000000",l.src="",l.events="",l.columnChangeable=!1,"undefined"!=typeof c&&("undefined"!=typeof c.data&&(l.bodyData=c.data),"undefined"!=typeof c.src&&(l.src=c.src),"undefined"!=typeof c.columns&&(l.columns=c.columns),"undefined"!=typeof c.ajax&&(l.ajax=c.ajax),"undefined"!=typeof c.lengthMenu&&(l.lengthMenu=c.lengthMenu),"undefined"!=typeof c.dataLength&&(l.dataLength=c.dataLength),"undefined"!=typeof c.buttons&&(l.buttons=c.buttons),"undefined"!=typeof c.selectedRowBgColor&&(l.selectedRowBgColor=c.selectedRowBgColor),"undefined"!=typeof c.selectedRowTextColor&&(l.selectedRowTextColor=c.selectedRowTextColor),"undefined"!=typeof c.events&&(l.events=c.events),"undefined"!=typeof c.columnChangeable&&(l.columnChangeable=c.columnChangeable)),$("head").append("<style>.bs-table-container tbody tr.selected{background: "+l.selectedRowBgColor+" !important;color: "+l.selectedRowTextColor+";}</style>"),l.container=$("<div/>",{class:"bs-table-container"}),l.container.append(l.clone()),l.replaceWith(l.container),l.html(l.container.html()),l.table="",l.thead=$("<thead/>",{}),l.tbody=$("<tbody/>",{}),l.tr=$("<tr/>",{}),l.th=$("<th/>",{}),l.td=$("<td/>",{}),l.table=l.container.find("table"),0>=l.table.find("thead").length){var m=$("<tr/>",{});l.columns.forEach(function(t){m.append($("<th/>",{text:"undefined"==typeof t.label?t.data:t.label,column:t.data,style:("undefined"==typeof t.width?"":";width:"+t.width)+(!1===t.sortable?";cursor:not-allowed":""),align:t.align}))}),l.thead.append(m),l.table.append(l.thead)}else l.thead=l.table.find("thead");if(0>=l.table.find("tbody").length?l.table.append(l.tbody):l.tbody=l.table.find("tbody"),this.searchBox=$("<input/>",{type:"text",class:"bs-table-searchbox",placeholder:"Search"}),this.lengthSelect=$("<select/>",{class:"bs-table-length-select"}),""!==this.lengthMenu)for(var n=0;n<this.lengthMenu[0].length;n++){var o=this.lengthMenu[0][n]==l.dataLength,p=$("<option/>",{html:this.lengthMenu[1][n],value:this.lengthMenu[0][n],selected:o});this.lengthSelect.append(p)}this.lengthSelect.change(function(){l.dataLength=l.lengthSelect.val();for(var u=0;u<l.tbody.find("tr").length;u++)u>=l.lengthSelect.val()?l.tbody.find("tr").eq(u).hide():l.tbody.find("tr").eq(u).show(),-1===l.lengthSelect.val()&&l.tbody.find("tr").eq(u).show();d()}),this.searchBox.keyup(function(){var t=l.searchBox.val();if(""!==t.trim())l.container.find("tbody tr").filter(function(){-1<$(this).html().toLowerCase().indexOf(t)?l.container.find("tbody tr:visible").length<l.dataLength&&$(this).show():$(this).hide()});else{l.container.find("tbody tr").hide();for(var u=0;u<=l.dataLength;u++)l.container.find("tbody tr:nth-child("+u+")").show()}l.container.find("tbody tr").is(":visible")?l.tbody.find("div").remove():0>=l.container.find("tbody div").length&&l.tbody.append("<div>Veri Bulunamad\u0131</div>")}),l.container.prepend(this.searchBox),l.searchBox.after("<div class='bs-clear'></div>"),l.container.append(this.lengthSelect),l.lengthSelect.before("<div class='bs-clear'></div>"),0>=l.container.find("tbody").length&&l.table.append(this.tbody);var q=new Date().getTime(),s=0;return l.container.on("click","tbody td",function(t){var x,u=$(this),v=u.parents("tr").index(),w=u.index();if(x="tr"!==u[0]||1?u.parents("tr"):u,x.hasClass("selected")?(x.removeClass("selected"),l.container.find("tbody tr").removeClass("selected")):(l.container.find("tbody tr").removeClass("selected"),!u.hasClass("bs-table-editing")&&"TD"===t.target.nodeName&&x.addClass("selected"),""!==l.events&&"function"==typeof l.events.rowSelected&&l.events.rowSelected(v)),"TD"===t.target.nodeName&&""!==l.events&&"function"==typeof l.events.columnClicked&&l.events.columnClicked(v,w),u.hasClass("bs-table-editing")||l.container.find("tbody tr td.bs-table-editing").each(function(z,A){A=$(A),g(A)}),200>new Date().getTime()-q&&s===v){if("undefined"!=typeof l.columns[w].editable&&!0===l.columns[w].editable&&!u.hasClass("bs-table-editing")&&(u.addClass("bs-table-editing"),u.attr("edit-type",l.columns[w].dataType),u.width(u.width()),"undefined"!=typeof l.columns[w].dataType&&"text"===l.columns[w].dataType&&u.html("<input class='bs-table-input-text bs-table-edit-input' type='text' value='"+u.html()+"' style='width:calc( "+u.width()+"px - 40px);height:"+u.height()+"px;' /><button class='bs-table-close-editing' style='height:"+u.height()+"px;' >x</button>"),"undefined"!=typeof l.columns[w].dataType&&"number"===l.columns[w].dataType&&u.html("<input class='bs-table-input-text bs-table-edit-input' type='number' value='"+u.html()+"' style='width:calc( "+u.width()+"px - 40px);height:"+u.height()+"px;' /><button class='bs-table-close-editing' style='height:"+u.height()+"px;' >x</button>"),"undefined"!=typeof l.columns[w].dataType&&"comboBox"===l.columns[w].dataType)){var y=$("<select/>",{class:"bs-table-edit-input",style:"width:calc("+u.width()+"px - 40px);height:"+u.height()+"px;"});l.columns[w].dataSet.forEach(function(z){var C=$("<option/>",{value:z.value,text:z.text});y.append(C)}),u.html(y),u.append("<button class='bs-table-close-editing' style='height:"+u.height()+"px;' >x</button>")}""!==l.events&&"function"==typeof l.events.rowDoubleClick&&l.events.rowDoubleClick(v)}s=v,q=new Date().getTime()}),l.container.on("click","tbody tr .bs-table-close-editing",function(){var u=$(this).parents("td");u.removeClass("bs-table-editing"),u.html(u.attr("data-value"))}),$(document).click(function(){500<new Date().getTime()-q&&l.container.find("tbody tr td.bs-table-editing").each(function(u,v){v=$(v),g(v)})}),l.container.find("thead tr th").click(function(){var t=$(this).attr("column"),u=l.columns.filter(function(y){return y.data===t})[0];if("undefined"==typeof u.sortable||!1!==u.sortable){l.sortType*=-1,l.container.find(".bs-table-sor-type").remove(),$(this).append("<div class='bs-table-sor-type'>"+(1===l.sortType?"&#9652;":"&#9662;")+"</div>");for(var x,v=[],w=0;w<l.container.find("tbody tr").length;w++)x=l.container.find("tbody tr:nth-child("+w+") td:nth-child("+(this.cellIndex+1)+")").text(),""!==x&&v.push(x);v.sort(function(y,z){return y<z?-1:y>z?1:0}),-1===l.sortType&&v.reverse();for(var x,w=0;w<v.length;w++)x=l.container.find("tbody tr td:nth-child("+(this.cellIndex+1)+"):contains('"+v[w]+"')").parents("tr"),l.container.find("tbody tr td:nth-child("+(this.cellIndex+1)+"):contains('"+v[w]+"')").parents("tr").remove(),l.container.find("tbody").append(x)}}),l.columnChangeable&&l.container.find("thead tr th").on("mousedown",function(t){var u=$(this).index(),v=l.container.find("thead tr th"),w=l.container.find("tbody tr"),x=v.length,y=0,z=$(this),A=25;t=t||window.event,y=t.clientX;var B=z.offset().left;$(document).on("mouseup",function(){v.eq(u).css({transform:"",right:""}),$(document).off("mouseup"),$(document).off("mousemove")}),$(document).on("mousemove",function(C){return y=C.clientX,v.eq(u).css({transform:"scale(1.1)",right:B-y+z.width()/2+"px",cursor:"move"}),0!==u&&B-y>A?(w.each(function(D,E){$(E).find("td").eq(u).css({background:l.selectedRowBgColor,color:l.selectedRowTextColor}),v.eq(u).css({cursor:""}),w.eq(D).find("td").eq(u).insertBefore(w.eq(D).find("td").eq(u-1)),setTimeout(function(){w.eq(D).find("td").eq(u-1).css({background:"",color:""})},500)}),v.eq(u).css({transform:"",right:""}),v.eq(u).insertBefore(v.eq(u-1)),void $(document).off("mousemove")):u!==x-1&&y-v.eq(u+1).offset().left>A?(w.each(function(D,E){$(E).find("td").eq(u).css({background:l.selectedRowBgColor,color:l.selectedRowTextColor}),v.eq(u).css({cursor:""}),w.eq(D).find("td").eq(u).insertAfter(w.eq(D).find("td").eq(u+1)),setTimeout(function(){w.eq(D).find("td").eq(u+1).css({background:"",color:""})},500)}),v.eq(u).css({transform:"",right:""}),v.eq(u).insertAfter(v.eq(u+1)),void $(document).off("mousemove")):void 0})}),this.buttonsDiv=$("<div/>",{class:"bs-table-buttons"}),""!==l.buttons&&l.buttons.forEach(function(t,u){var v=$("<button/>",{class:"bs-table-button "+l.buttons[u].className,text:l.buttons[u].text});v.click(function(){"function"==typeof l.buttons[u].action&&l.buttons[u].action()}),l.buttonsDiv.append(v)}),l.container.prepend(this.buttonsDiv),""!==l.src&&j(l.src),""!==l.ajax&&h(),this.updateColumn=function(){""!==l.events&&"function"==typeof l.events.columnUpdated&&l.events.columnUpdated()},this.refresh=function(){l.container.find("thead .bs-table-sor-type").remove(),""===l.ajax?j(l.src):h()},this.getSelectedRow=function(){var t={},u=l.container.find("tbody tr.selected");return 0<u.length?(u.find("td").each(function(){var w=$(this);t[w.attr("column")]=w.attr("data-value")}),t):null},this.getRow=function(t){var u={},v=l.container.find("tbody tr").eq(t);return 0<v.length?(v.find("td").each(function(){var x=$(this);u[x.attr("column")]=x.attr("data-value")}),u):null},this.getRows=function(){var t=[],u=l.container.find("tbody tr");return 0<u.length?(u.each(function(){var w=$(this),x={};w.find("td").each(function(){var z=$(this);x[z.attr("column")]=z.attr("data-value")}),t.push(x)}),t):null},this.getDataLength=function(){return l.totalData},this},$.bsAlert=function(c,d){this.title="",this.content="",this.alertType="success",this.showConfirmButton=!1,this.confirmButtonText="",this.confirmButtonBackground="blue",this.confirmButtonTextColor="white",this.closable=!0,this.disableClose=!1,this.buttons="";var f=this;return"undefined"!=typeof c&&("undefined"!=typeof c.type&&(f.alertType=c.type),"undefined"!=typeof c.title&&(f.title=c.title),"undefined"!=typeof c.content&&(f.content=c.content),"undefined"!=typeof c.showConfirmButton&&(f.showConfirmButton=c.showConfirmButton),"undefined"!=typeof c.confirmButtonText&&(f.confirmButtonText=c.confirmButtonText),"undefined"!=typeof c.confirmButtonBackground&&(f.confirmButtonBackground=c.confirmButtonBackground),"undefined"!=typeof c.confirmButtonTextColor&&(f.confirmButtonTextColor=c.confirmButtonTextColor),"undefined"!=typeof c.closable&&(f.closable=c.closable),"undefined"!=typeof c.disableClose&&(f.disableClose=c.disableClose),"undefined"!=typeof c.buttons&&(f.buttons=c.buttons)),this.container=$("<div/>",{class:"bs-alert-container bs-alert-"+f.alertType}),this.body=$("<div/>",{class:"bs-alert-body"}),!0===f.closable&&f.container.click(function(){f.close()}),this.iconContainer=$("<div/>",{class:"bs-alert-icon-container"}),this.iconContent=$("<div/>",{class:"bs-alert-icon-content",htmls:"success"===f.alertType?"&#10004;":"danger"===f.alertType?"&#x274C;":""}),this.iconContainer.append(this.iconContent),this.titleContainer=$("<div/>",{class:"bs-alert-title-container"}),this.titleContent=$("<div/>",{class:"bs-alert-title-content",html:f.title}),this.titleContainer.append(this.titleContent),this.contentContainer=$("<div/>",{class:"bs-alert-content-container"}),this.contentContent=$("<div/>",{class:"bs-alert-content-content",html:f.content}),this.contentContainer.append(this.contentContent),this.buttonsContainer=$("<div/>",{class:"bs-alert-buttons-container"}),"object"==typeof f.buttons&&f.buttons.forEach(function(g){var h=$("<button/>",{class:"bs-alert-button",type:"button",html:g.text,style:"background:"+g.background+";color:"+g.color,"btn-val":g.value});("undefined"==typeof g.show||!0!==g.show)&&f.buttonsContainer.append(h),h.click(function(){"function"==typeof d&&(d($(this).attr("btn-val")),!0!==f.disableClose&&f.close())})}),this.body.append(this.iconContainer),this.body.append(this.titleContainer),this.body.append(this.contentContainer),this.body.append(this.buttonsContainer),this.container.append(this.body),$("body").append(f.container),this.close=function(){f.body.css("animation-name","zoomOut"),setTimeout(function(){f.container.remove()},300)},this.updateTitle=function(g){f.container.find(".bs-alert-title-content").html(g)},this.updateContent=function(g){f.container.find(".bs-alert-content-content").html(g)},this},$.bsNotification=function(c,d){function f(){h=$(".bs-notification").length;let j=$(".bs-notification").eq(0);$(".bs-notification").eq(0).css({top:0}),j.fadeOut(function(){j.remove();for(let l=0;l<h;l++)$(".bs-notification").eq(l).css({top:40*l});0<h&&f()})}this.nType="success",this.content="",this.showSingle=!1,this.duration=2e3;var g=this;"undefined"!=typeof c&&("undefined"!=typeof c.type&&(this.nType=c.type),"undefined"!=typeof c.content&&(this.content=c.content),"undefined"!=typeof c.showSingle&&(this.showSingle=c.showSingle),"undefined"!=typeof c.duration&&(this.duration=c.duration)),!0===g.showSingle&&$(".bs-notification").remove();let h=$(".bs-notification").length;return this.div=$("<div/>",{class:"bs-notification bs-notification-"+g.nType,style:"top:"+40*h+"px;",text:g.content}),this.div.click(function(){"function"==typeof d&&d(),this.remove(),f()}),$("body").append(this.div),this.div.fadeIn("fast",function(){setTimeout(function(){f()},g.duration)}),this},$.bsWindow=function(c){this.id="bs-window",this.class="bs-window",this.title="bs Window",this.width="500px",this.height="500px",this.background="#dfe8f6",this.visible=!0,this.content="",this.resizable=!0,this.draggable=!0,this.xPosition="center",this.yPosition="center",this.src="",this.closeButtonContent="X",this.showFooter=!0,this.isFullScreen=!1;var d=this;if(this.show=function(){d.visible=!0,d.bsContainer.show()},this.hide=function(){d.visible=!1,d.bsContainer.hide()},"undefined"!=typeof c&&("undefined"!=typeof c.resizable&&(this.resizable=c.resizable),"undefined"!=typeof c.width&&(this.width=c.width),"undefined"!=typeof c.height&&(this.height=c.height),"undefined"!=typeof c.show&&(this.visible=c.show),"undefined"!=typeof c.background&&(this.background=c.background),"undefined"!=typeof c.title&&(this.title=c.title),"undefined"!=typeof c.content&&(this.content=c.content),"undefined"!=typeof c.draggable&&(this.draggable=c.draggable),"undefined"!=typeof c.xPosition&&(this.xPosition=c.xPosition),"undefined"!=typeof c.yPosition&&(this.yPosition=c.yPosition),"undefined"!=typeof c.src&&(this.src=c.src),"undefined"!=typeof c.closeButtonContent&&(this.closeButtonContent=c.closeButtonContent),"undefined"!=typeof c.showFooter&&(this.showFooter=c.showFooter)),this.bsContainer=$("<div/>",{id:this.id,class:"bs-window-container",style:"width:"+this.width+";height:"+this.height+";background:"+this.background+";"}),this.bsWindowDiv=$("<div/>",{class:"bs-window"}),this.bsHeader=$("<div/>",{class:"bs-window-header"}),this.bsTitle=$("<div/>",{class:"bs-window-title",html:this.title}),this.bsBody=$("<div/>",{class:"bs-window-body",html:this.content,style:d.showFooter?"":"height:calc(100% - 30px);"}),this.bsFooter=$("<div/>",{class:"bs-window-footer"}),this.closeButton=$("<div/>",{class:"bs-window-close-btn",html:this.closeButtonContent}),this.iframe=$("<iframe/>",{class:"bs-window-iframe",src:this.src}),this.bsContainer.append(this.bsWindowDiv),this.bsContainer.append(this.bsWindowDiv),this.bsWindowDiv.append(this.bsHeader),this.bsHeader.append(this.closeButton),this.bsHeader.append(this.bsTitle),this.bsWindowDiv.append(this.bsBody),this.showFooter&&this.bsWindowDiv.append(this.bsFooter),this.bsBody.append(this.iframe),!0===this.draggable){var f=0,g=0,h=0,j=0,l=this.bsContainer;this.bsHeader.on("mousedown",function(m){m=m||window.event,h=m.clientX,j=m.clientY,$(document).on("mouseup",function(){l.css("opacity","1"),$(document).off("mouseup"),$(document).off("mousemove")}),$(document).on("mousemove",function(n){f=h-n.clientX,g=j-n.clientY,h=n.clientX,j=n.clientY,l.css("top",l.offset().top-g),l.css("left",l.offset().left-f),l.css("opacity","0.5")})}),this.bsFooter.on("mousedown",function(m){m=m||window.event,h=m.clientX,j=m.clientY,$(document).on("mouseup",function(){l.css("opacity","1"),$(document).off("mouseup"),$(document).off("mousemove")}),$(document).on("mousemove",function(n){f=h-n.clientX,g=j-n.clientY,h=n.clientX,j=n.clientY,l.css("top",l.offset().top-g),l.css("left",l.offset().left-f),l.css("opacity","0.5")})})}return this.bsHeader.dblclick(function(){!0===d.isFullScreen?d.restore():d.maximize()}),this.closeButton.click(function(){d.bsContainer.remove()}),this.maximize=function(){d.isFullScreen=!0,d.bsContainer.css({left:"0",right:"0",top:"0",bottom:"0",width:"calc(100% - 5px)",height:"calc(100% - 5px)"})},this.restore=function(){d.isFullScreen=!1,d.bsContainer.width(d.width),d.bsContainer.height(d.height),d.bsContainer.css({top:Math.max(0,($(window).height()-this.bsContainer.outerHeight())/2),left:Math.max(0,($(window).width()-this.bsContainer.outerHeight())/2)})},this.close=function(){this.bsContainer.remove()},!1===this.show&&$(d.bsContainer).hide(),"left"===this.xPosition?this.bsContainer.css({left:"0"}):"center"===this.xPosition?this.bsContainer.css({left:Math.max(0,($(window).width()-this.bsContainer.outerHeight())/2)}):"right"===this.xPosition&&this.bsContainer.css({right:"0"}),"top"===this.yPosition?this.bsContainer.css({top:"0"}):"center"===this.yPosition?this.bsContainer.css({top:Math.max(0,($(window).height()-this.bsContainer.outerHeight())/2)}):"bottom"===this.yPosition&&this.bsContainer.css({bottom:"0"}),$("body").append(this.bsContainer),this},$.fn.bsValidate=function(){let c=this,d=!0;return c.find(":input").each(function(){"text"===$(this).attr("type")?(null===$(this).val()||""===$(this).val())&&(void 0!==$(this).attr("required")||!1!==$(this).attr("required"))&&(d=!1):"password"===$(this).attr("type")?(null===$(this).val()||""===$(this).val())&&(void 0!==$(this).attr("required")||!1!==$(this).attr("required"))&&(d=!1):"radio"===$(this).attr("type")?0===c.find("input[type='radio'][name='"+$(this).attr("name")+"']:checked").length&&(d=!1):"checkbox"===$(this).attr("type")&&0===c.find("input[type='checkbox'][name='"+$(this).attr("name")+"']:checked").length&&(d=!1)}),d},$.fn.bsDatePicker=function(c){function d(p){h().find("table tbody").html(""),"undefined"==typeof p&&(p=!1);for(var q=1;31>=q;q++){if(0==q%7||1===q)var s=$("<tr/>",{});var t=q,u=h().find(".bs-datepicker-top-center").attr("month"),v=h().find(".bs-datepicker-top-center").attr("year"),w=new Date(v+"-"+u+"-"+t),x=j.currentDay,y=$("<td/>",{class:"bs-datepicker-middle-table-td "+((isNaN(new Date(j.dateParam))||!0!==p||1?q===x:q===x)?"bs-datepicker-selected-day":""),html:q+"<br>"+g(w.getDay()),day:w.getDate(),month:u,year:v,dayOfWeek:g(w.getDay())});y.click(function(){j.tbody.find(".bs-datepicker-middle-table-td").removeClass("bs-datepicker-selected-day"),$(this).addClass("bs-datepicker-selected-day");var z=j.format.replace("d",$(this).attr("day")).replace("m",$(this).attr("month")).replace("y",$(this).attr("year"));j.val(z),setTimeout(function(){j.close()},50)}),s.append(y),h().find("table tbody").append(s)}}function f(p){return 0>p&&(p=0),12<p&&(p=12),m[p]}function g(p){return 0>p&&(p=0),7<p&&(p=7),n[p]}function h(){return j.next(".bs-datepicker-container")}this.format="d-m-y",this.dateParam=null;var j=this,l=null;"undefined"!=typeof c&&(l=c,"undefined"!=typeof c.format&&(j.format=c.format));var m=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=new Date;return this.currentDay=o.getDate(),this.currentMonth=o.getMonth()+1,this.currentYear=o.getFullYear(),this.currentDayOfWeek=o.getDay(),this.container=$("<div/>",{class:"bs-datepicker-container"}),this.body=$("<div/>",{class:"bs-datepicker-body"}),this.top=$("<div/>",{class:"bs-datepicker-top"}),this.middle=$("<div/>",{class:"bs-datepicker-middle"}),this.bottom=$("<div/>",{class:"bs-datepicker-bottom"}),this.topLeftArrow=$("<div/>",{class:"bs-datepicker-top-leftArrow",html:"<"}),this.topRightArrow=$("<div/>",{class:"bs-datepicker-top-rightArrow",html:">"}),this.topCenter=$("<div/>",{class:"bs-datepicker-top-center",html:f(j.currentMonth-1)+" "+j.currentYear,month:j.currentMonth,year:j.currentYear}),j.topLeftArrow.click(function(){var p=j.next(".bs-datepicker-container").find(".bs-datepicker-top-center"),q=parseInt(p.attr("month"))-1;1>q&&(q=12,p.attr("year",parseInt(p.attr("year"))-1)),p.attr("month",q),d(),p.html(f(p.attr("month")-1)+" "+p.attr("year"))}),j.topRightArrow.click(function(){var p=j.next(".bs-datepicker-container").find(".bs-datepicker-top-center"),q=parseInt(p.attr("month"))+1;12<q&&(q=1,p.attr("year",parseInt(p.attr("year"))+1)),p.attr("month",q),d(),p.html(f(p.attr("month")-1)+" "+p.attr("year"))}),this.table=$("<table/>",{class:"bs-datepicker-middle-table"}),this.thead=$("<thead/>",{}),this.tbody=$("<tbody/>",{}),j.table.append(j.thead),j.table.append(j.tbody),j.top.append(j.topLeftArrow),j.top.append(j.topCenter),j.top.append(j.topRightArrow),j.middle.append(j.table),j.body.append(j.top),j.body.append(j.middle),j.body.append(j.bottom),j.container.append(j.body),j.click(function(){h().show()}),j.blur(function(){0<h().length&&!h().is(":active")&&j.close()}),j.after(j.container),d(),this.close=function(){h().hide()},this.setDate=function(p){j.dateParam=p,d(!0)},this},$.bsRedirect=function(c,d){"undefined"==typeof d&&(d=0),setTimeout(function(){window.location.href=c},parseInt(d))},$.fn.bsLightBox=function(c){var d=this;d.backgroundAlpha=0.5,d.currentIndex=0,d.itemCount=d.length,"undefined"!=typeof c&&"undefined"!=typeof c.backgroundAlpha&&(d.backgroundAlpha=c.backgroundAlpha),d.click(function(){var f=$(this);d.currentIndex=f.index(),d.container=$("<div/>",{class:"bs-lightbox-container",style:"background: rgba(0, 0, 0, "+d.backgroundAlpha+");",html:""}),d.content=$("<div/>",{class:"bs-lightbox-content"}),d.imageContent=$("<img/>",{src:f.attr("src")}),d.content.append(d.imageContent),d.container.append(d.content),d.leftButton=$("<div/>",{class:"bs-lightbox-button bs-lightbox-button-left",html:"<"}),d.rightButton=$("<div/>",{class:"bs-lightbox-button bs-lightbox-button-right",html:">"}),$("body").append(d.container),d.content.css("width",d.imageContent.width()+"px"),$(".bs-lightbox-container").click(function(){$("body .bs-lightbox-container").remove()})})};